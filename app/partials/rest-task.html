<div class="content container">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="box-title">{{taskType}} Task</h3>
        </div>

        <form id="taskForm" name="taskForm" class="ng-pristine ng-invalid ng-invalid-required">
            <div class="panel-body">
                <!-- text input -->
                <div class="form-group" ng-class="{ 'has-error': formData.name.$invalid }">
                    <label>Name<span class="required">*</span></label>
                    <input type="text" ng-model="formData.name" class="form-control"
                           placeholder="Enter Name..." required >
                </div>
                <div class="form-group" ng-class="{ 'has-error': formData.url.$invalid }">
                    <label>URL<span class="required">*</span></label>
                    <input type="url" ng-model="formData.url" class="form-control"
                           placeholder="http://example.com/" required>
                </div>
                <div class="form-group">
                    <!--<label>Type </label>-->
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-default ">
                            <input type="radio" ng-model="formData.method"
                                   value="GET">
                            GET
                        </label>
                        <label class="btn btn-default">
                            <input type="radio" ng-model="formData.method"
                                   value="POST">
                            POST
                        </label>
                    </div>
                </div>

                <!-- textarea -->
                <div class="form-group" ng-show="formData.method == 'POST'">
                    <label>Payload</label>
                    <textarea class="form-control" ng-model="formData.payload" rows="3"
                              placeholder="Enter ..."></textarea>
                </div>
                <div class="form-group">
                    <label>Header</label>

                    <div class="control ng-scope" ng-repeat="header in formData.headers"
                         style="margin-bottom: 10px">
                        <!-- ngRepeat: (key,value) in header -->
                        <div class="row ng-scope">
                            <div class="col-md-5">
                                <input ng-model="header.key" type="text"
                                       class="form-control ng-pristine ng-valid ng-touched"
                                       placeholder="Header">
                            </div>
                            <div class="col-md-5">
                                <input ng-model="header.value" type="text"
                                       class="form-control col-md-6 ng-pristine ng-untouched ng-valid"
                                       placeholder="Value...">
                            </div>
                            <button ng-click="removeHeader($index)">×</button>
                        </div>
                        <!-- end ngRepeat: (key,value) in header -->
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <button type="button" class="btn btn-info" ng-click="addHeader()">
                                Add Header
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Parameter</label>

                    <div class="control ng-scope" ng-repeat="param in formData.params"
                         style="margin-bottom: 10px">
                        <!-- ngRepeat: (key,value) in header -->
                        <div class="row ng-scope">
                            <div class="col-md-5">
                                <input ng-model="param.key" type="text"
                                       class="form-control ng-pristine ng-valid ng-touched"
                                       placeholder="Key">
                            </div>
                            <div class="col-md-5">
                                <input ng-model="param.value" type="text"
                                       class="form-control col-md-6 ng-pristine ng-untouched ng-valid"
                                       placeholder="Value...">
                            </div>
                            <button ng-click="removeParam($index)">×</button>
                        </div>
                        <!-- end ngRepeat: (key,value) in header -->
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <button type="button" class="btn btn-info" ng-click="addParam()">
                                Add Param
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <!--<label>Type </label>-->
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-default ">
                            <input type="radio" ng-model="formData.expressionType"
                                   value="cron">
                            Interval
                        </label>
                        <label class="btn btn-default">
                            <input type="radio" ng-model="formData.expressionType"
                                   value="date">
                            Specific
                        </label>
                    </div>
                </div>
                <div class="form-group" ng-show="formData.expressionType == 'cron'">
                    <cron-selection output="formData.expression"
                                    init="cronInitData"></cron-selection>
                </div>
                <div class="form-group" ng-show="formData.expressionType == 'date'">
                    <datetimepicker class="col-md-4" min-date="minDate" hour-step="hourStep"
                                    minute-step="minuteStep" ng-model="formData.date"
                                    show-meridian="false"
                                    date-format="dd-MMM-yyyy" date-options="dateOptions"
                                    readonly-date="false"
                                    show-spinners="true"
                                    readonly-time="false"></datetimepicker>
                </div>
                <div class="form-group">
                    <label>Active</label></br>
                    <switch name="onOff" ng-model="formData.active" on="true"
                            off="false"></switch>
                </div>
            </div>
            <div class="panel-footer" style="height: 70px">
                <div class="pull-right">
                    <button class="btn btn-info ng-binding" ng-click="submit()">Post</button>
                    <button class="btn btn-default" type="button" ng-click="cancel()">Cancel
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>